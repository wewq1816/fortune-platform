# -*- coding: utf-8 -*-
"""
aptitude (적성) 카테고리 추가 스크립트
78장 × 2방향 = 156개 aptitude 의미 자동 생성
"""

import json
import os
import sys

# 윈도우 콘솔 인코딩 설정
if sys.platform == 'win32':
    import codecs
    sys.stdout = codecs.getwriter('utf-8')(sys.stdout.buffer, 'strict')
    sys.stderr = codecs.getwriter('utf-8')(sys.stderr.buffer, 'strict')

# 파일 경로
file_path = r"C:\xampp\htdocs\mysite\운세플랫폼\engines\data\tarot-cards-meanings.json"

print("=" * 60)
print("Tarot Cards - aptitude (적성) 카테고리 추가 작업 시작")
print("=" * 60)

# 파일 읽기
print("\n[1/4] 파일 읽는 중...")
with open(file_path, 'r', encoding='utf-8') as f:
    data = json.load(f)

print(f"[OK] 파일 읽기 완료: {len(data['meanings'])} 장의 카드")

# aptitude 데이터 정의
print("\n[2/4] aptitude 데이터 생성 중...")

aptitude_data = {
    "major_00": {"upright": "새로운 분야에 도전하는 적성이 있습니다. 창의적이고 자유로운 일이 적합합니다.", "reversed": "방향성 없이 여러 분야를 시도합니다. 집중하고 계획을 세우세요."},
    "major_01": {"upright": "리더십과 의사소통 능력이 뛰어납니다. 영업, 강연, 마케팅에 적합합니다.", "reversed": "독단적이거나 소통 부족이 문제입니다. 협력과 경청을 배우세요."},
    "major_02": {"upright": "직관과 통찰력이 뛰어납니다. 상담, 심리, 예술 분야에 적합합니다.", "reversed": "내면에만 집중하고 실용성이 부족합니다. 현실적 기술을 개발하세요."},
    "major_03": {"upright": "양육과 돌봄의 재능이 있습니다. 교육, 의료, 사회복지에 적합합니다.", "reversed": "과잉보호나 의존적 성향이 문제입니다. 독립성을 키우세요."},
    "major_04": {"upright": "체계적이고 조직적인 능력이 있습니다. 관리, 기획, 법률 분야에 적합합니다.", "reversed": "융통성 부족이나 경직된 사고가 문제입니다. 창의성을 키우세요."},
    "major_05": {"upright": "전통적 가치와 교육 능력이 있습니다. 교육, 종교, 문화 분야에 적합합니다.", "reversed": "형식에 얽매이고 변화를 거부합니다. 새로운 것을 받아들이세요."},
    "major_06": {"upright": "선택과 조화의 능력이 있습니다. 상담, 중재, 예술 분야에 적합합니다.", "reversed": "우유부단하거나 결정을 미룹니다. 결단력을 키우세요."},
    "major_07": {"upright": "강한 의지와 추진력이 있습니다. 경영, 스포츠, 영업에 적합합니다.", "reversed": "통제욕이나 고집이 문제입니다. 유연성을 키우세요."},
    "major_08": {"upright": "인내심과 자제력이 뛰어납니다. 연구, 의료, 수련 분야에 적합합니다.", "reversed": "인내심 부족이나 조급함이 문제입니다. 끈기를 키우세요."},
    "major_09": {"upright": "성찰과 분석 능력이 뛰어납니다. 연구, 집필, 상담 분야에 적합합니다.", "reversed": "고립되거나 실용성이 부족합니다. 사회적 기술을 키우세요."},
    "major_10": {"upright": "변화와 적응 능력이 뛰어납니다. 기획, 컨설팅, 창업에 적합합니다.", "reversed": "변화에 저항하거나 운에만 의존합니다. 전략적 사고를 키우세요."},
    "major_11": {"upright": "공정성과 판단력이 뛰어납니다. 법률, 중재, 행정 분야에 적합합니다.", "reversed": "편견이나 불공정함이 문제입니다. 객관성을 키우세요."},
    "major_12": {"upright": "희생과 헌신의 능력이 있습니다. 사회복지, 봉사, 의료에 적합합니다.", "reversed": "불필요한 희생이나 순교자 심리가 문제입니다. 자기 가치를 인정하세요."},
    "major_13": {"upright": "변화와 혁신의 능력이 있습니다. 컨설팅, 혁신, 재편 분야에 적합합니다.", "reversed": "변화를 두려워하고 과거에 집착합니다. 새로운 시도를 하세요."},
    "major_14": {"upright": "균형과 조화의 능력이 있습니다. 중재, 상담, 디자인에 적합합니다.", "reversed": "극단적이거나 불균형합니다. 중용을 배우세요."},
    "major_15": {"upright": "매력과 설득력이 있습니다. 영업, 마케팅, 협상에 적합합니다.", "reversed": "집착이나 조종이 문제입니다. 건전한 방식을 배우세요."},
    "major_16": {"upright": "위기관리와 혁신 능력이 있습니다. 위기관리, 응급, 혁신에 적합합니다.", "reversed": "파괴적이거나 충동적입니다. 신중함을 배우세요."},
    "major_17": {"upright": "영감과 희망을 주는 능력이 있습니다. 예술, 상담, 힐링에 적합합니다.", "reversed": "비현실적이거나 환상에 빠집니다. 현실성을 키우세요."},
    "major_18": {"upright": "직관과 감성이 뛰어납니다. 예술, 심리, 창작 분야에 적합합니다.", "reversed": "혼란스럽거나 불안정합니다. 명료함을 키우세요."},
    "major_19": {"upright": "활력과 긍정적 에너지가 있습니다. 엔터테인먼트, 교육, 영업에 적합합니다.", "reversed": "과도한 낙관이나 자만이 문제입니다. 현실성을 키우세요."},
    "major_20": {"upright": "평가와 성찰 능력이 있습니다. 평가, 감사, 컨설팅에 적합합니다.", "reversed": "과거에 얽매이고 전진하지 못합니다. 앞을 보세요."},
    "major_21": {"upright": "완성과 통합 능력이 있습니다. 프로젝트 관리, 총괄, 종합 분야에 적합합니다.", "reversed": "완성 직전 실패나 장애물이 있습니다. 끝까지 집중하세요."},
    "wands_01": {"upright": "창의적이고 열정적입니다. 창업, 기획, 마케팅에 적합합니다.", "reversed": "시작만 하고 끝내지 못합니다. 실행력을 키우세요."},
    "wands_02": {"upright": "계획과 전략 능력이 있습니다. 기획, 컨설팅, 투자에 적합합니다.", "reversed": "계획만 하고 실행하지 않습니다. 행동력을 키우세요."},
    "wands_03": {"upright": "협력과 확장 능력이 있습니다. 영업, 무역, 네트워킹에 적합합니다.", "reversed": "확장이 지연되거나 실패합니다. 인내심을 가지세요."},
    "wands_04": {"upright": "안정과 축하의 능력이 있습니다. 이벤트, 기획, 축제에 적합합니다.", "reversed": "불안정하거나 성과가 없습니다. 기초를 다지세요."},
    "wands_05": {"upright": "경쟁과 도전 능력이 있습니다. 스포츠, 경쟁, 영업에 적합합니다.", "reversed": "불필요한 갈등이나 경쟁입니다. 협력을 배우세요."},
    "wands_06": {"upright": "성취와 리더십이 있습니다. 관리, 리더십, 영업에 적합합니다.", "reversed": "리더십이 부족하거나 인정받지 못합니다. 역량을 키우세요."},
    "wands_07": {"upright": "방어와 인내 능력이 있습니다. 보안, 수비, 법률에 적합합니다.", "reversed": "압도되거나 포기합니다. 끈기를 키우세요."},
    "wands_08": {"upright": "신속한 실행 능력이 있습니다. 물류, 응급, 빠른 서비스에 적합합니다.", "reversed": "너무 서두르거나 실수합니다. 신중함을 키우세요."},
    "wands_09": {"upright": "끈기와 방어 능력이 있습니다. 보안, 위기관리, 수비에 적합합니다.", "reversed": "소진되거나 지쳤습니다. 휴식을 취하세요."},
    "wands_10": {"upright": "책임과 부담 감당 능력이 있습니다. 관리, 총괄, 프로젝트에 적합합니다.", "reversed": "과부하나 위임 부족입니다. 균형을 찾으세요."},
    "wands_11": {"upright": "열정과 호기심이 있습니다. 학습, 탐구, 신기술에 적합합니다.", "reversed": "조급하거나 불성실합니다. 인내심을 키우세요."},
    "wands_12": {"upright": "모험과 행동력이 있습니다. 영업, 탐험, 스포츠에 적합합니다.", "reversed": "무모하거나 계획 없습니다. 전략을 세우세요."},
    "wands_13": {"upright": "독립적이고 열정적입니다. 창업, 리더십, 혁신에 적합합니다.", "reversed": "과열되거나 독단적입니다. 협력을 배우세요."},
    "wands_14": {"upright": "강력한 리더십과 비전이 있습니다. 경영, 리더십, 창업에 적합합니다.", "reversed": "독재적이거나 무책임합니다. 책임감을 키우세요."},
    "cups_01": {"upright": "감성과 공감 능력이 있습니다. 상담, 예술, 힐링에 적합합니다.", "reversed": "감정 과잉이나 공허함이 문제입니다. 균형을 찾으세요."},
    "cups_02": {"upright": "협력과 관계 능력이 있습니다. 협상, 중재, 파트너십에 적합합니다.", "reversed": "불균형하거나 의존적입니다. 독립성을 키우세요."},
    "cups_03": {"upright": "사교와 축하 능력이 있습니다. 이벤트, 호스피탈리티, 엔터테인먼트에 적합합니다.", "reversed": "과도한 사교나 피상적입니다. 진정성을 키우세요."},
    "cups_04": {"upright": "성찰과 내면 탐구 능력이 있습니다. 명상, 심리, 철학에 적합합니다.", "reversed": "무관심하거나 기회를 놓칩니다. 열린 마음을 가지세요."},
    "cups_05": {"upright": "상실과 회복 이해 능력이 있습니다. 상담, 치유, 지원에 적합합니다.", "reversed": "과거에 집착하고 회복하지 못합니다. 앞으로 나아가세요."},
    "cups_06": {"upright": "추억과 전통 이해 능력이 있습니다. 문화, 교육, 보존에 적합합니다.", "reversed": "과거에 얽매이고 발전하지 못합니다. 현재에 집중하세요."},
    "cups_07": {"upright": "상상력과 비전이 풍부합니다. 창작, 기획, 혁신에 적합합니다.", "reversed": "환상에 빠지고 현실성이 부족합니다. 실용성을 키우세요."},
    "cups_08": {"upright": "변화와 전환 능력이 있습니다. 컨설팅, 전환, 변화관리에 적합합니다.", "reversed": "변화를 두려워하고 정체됩니다. 용기를 내세요."},
    "cups_09": {"upright": "만족과 성취 능력이 있습니다. 서비스, 환대, 만족도에 적합합니다.", "reversed": "만족하지 못하거나 탐욕스럽습니다. 감사를 배우세요."},
    "cups_10": {"upright": "조화와 행복 창조 능력이 있습니다. 가족, 커뮤니티, 힐링에 적합합니다.", "reversed": "불화나 갈등이 문제입니다. 화합을 배우세요."},
    "cups_11": {"upright": "창의적이고 감성적입니다. 예술, 디자인, 창작에 적합합니다.", "reversed": "미성숙하거나 비현실적입니다. 성숙함을 키우세요."},
    "cups_12": {"upright": "꿈과 이상 추구 능력이 있습니다. 예술, 상담, 영성에 적합합니다.", "reversed": "현실 도피나 불안정합니다. 현실성을 키우세요."},
    "cups_13": {"upright": "성숙하고 감정적으로 안정적입니다. 상담, 치유, 케어에 적합합니다.", "reversed": "감정 불안정이 문제입니다. 안정성을 키우세요."},
    "cups_14": {"upright": "감정 균형과 지혜가 있습니다. 상담, 중재, 힐링에 적합합니다.", "reversed": "감정 조종이나 불안정입니다. 진정성을 키우세요."},
    "swords_01": {"upright": "명확한 사고와 분석력이 있습니다. 법률, 분석, 저널리즘에 적합합니다.", "reversed": "혼란스럽거나 판단력이 부족합니다. 명료함을 키우세요."},
    "swords_02": {"upright": "균형과 선택 능력이 있습니다. 중재, 협상, 결정에 적합합니다.", "reversed": "우유부단하거나 회피합니다. 결단력을 키우세요."},
    "swords_03": {"upright": "고통 이해와 치유 능력이 있습니다. 상담, 치료, 지원에 적합합니다.", "reversed": "상처에 집착하고 회복하지 못합니다. 치유를 받으세요."},
    "swords_04": {"upright": "휴식과 회복 능력이 있습니다. 휴양, 명상, 재충전에 적합합니다.", "reversed": "과도한 휴식이나 회피입니다. 행동을 시작하세요."},
    "swords_05": {"upright": "전략과 경쟁 능력이 있습니다. 협상, 경쟁, 전략에 적합합니다.", "reversed": "불필요한 갈등이나 패배주의입니다. 협력을 배우세요."},
    "swords_06": {"upright": "전환과 이동 능력이 있습니다. 변화관리, 이동, 전환에 적합합니다.", "reversed": "변화 저항이나 정체입니다. 유연성을 키우세요."},
    "swords_07": {"upright": "전략과 지략이 있습니다. 전략, 기획, 협상에 적합합니다.", "reversed": "부정직하거나 책략적입니다. 정직함을 배우세요."},
    "swords_08": {"upright": "문제 해결과 돌파 능력이 있습니다. 컨설팅, 문제해결, 혁신에 적합합니다.", "reversed": "제약되거나 막혀있습니다. 돌파구를 찾으세요."},
    "swords_09": {"upright": "불안 관리와 지원 능력이 있습니다. 상담, 심리, 지원에 적합합니다.", "reversed": "불안에 압도됩니다. 도움을 구하세요."},
    "swords_10": {"upright": "종결과 재시작 능력이 있습니다. 위기관리, 회복, 재건에 적합합니다.", "reversed": "최악에서 벗어나지 못합니다. 희망을 찾으세요."},
    "swords_11": {"upright": "진실과 소통 능력이 있습니다. 저널리즘, 소통, 진실에 적합합니다.", "reversed": "비판적이거나 날카롭습니다. 부드러움을 배우세요."},
    "swords_12": {"upright": "열정과 행동력이 있습니다. 영업, 액션, 빠른 대응에 적합합니다.", "reversed": "성급하거나 무모합니다. 신중함을 배우세요."},
    "swords_13": {"upright": "독립과 명확함이 있습니다. 분석, 독립, 결정에 적합합니다.", "reversed": "냉담하거나 고립됩니다. 따뜻함을 키우세요."},
    "swords_14": {"upright": "지적이고 현명합니다. 법률, 판단, 리더십에 적합합니다.", "reversed": "독단적이거나 권위적입니다. 공감을 배우세요."},
    "pentacles_01": {"upright": "실용적이고 물질적 능력이 있습니다. 재정, 투자, 사업에 적합합니다.", "reversed": "기회를 놓치거나 실용성이 부족합니다. 계획을 세우세요."},
    "pentacles_02": {"upright": "균형과 유연성이 있습니다. 다중업무, 조정, 균형에 적합합니다.", "reversed": "균형 부족이나 혼란입니다. 우선순위를 정하세요."},
    "pentacles_03": {"upright": "협력과 기술 능력이 있습니다. 기술, 협업, 장인에 적합합니다.", "reversed": "협력 실패나 기술 부족입니다. 학습하세요."},
    "pentacles_04": {"upright": "관리와 보존 능력이 있습니다. 재정관리, 보안, 관리에 적합합니다.", "reversed": "지나친 통제나 인색함입니다. 개방성을 배우세요."},
    "pentacles_05": {"upright": "회복과 지원 능력이 있습니다. 사회복지, 지원, 회복에 적합합니다.", "reversed": "어려움에 처하거나 고립됩니다. 도움을 구하세요."},
    "pentacles_06": {"upright": "공정성과 나눔 능력이 있습니다. 자선, 나눔, 공정거래에 적합합니다.", "reversed": "불공정하거나 이기적입니다. 공정함을 배우세요."},
    "pentacles_07": {"upright": "인내와 평가 능력이 있습니다. 평가, 심사, 장기투자에 적합합니다.", "reversed": "조급함이나 인내 부족입니다. 끈기를 키우세요."},
    "pentacles_08": {"upright": "성실함과 숙련 능력이 있습니다. 장인, 기술, 전문가에 적합합니다.", "reversed": "게으름이나 불성실함입니다. 근면함을 배우세요."},
    "pentacles_09": {"upright": "독립과 자립 능력이 있습니다. 사업, 독립, 전문가에 적합합니다.", "reversed": "의존적이거나 고립됩니다. 균형을 찾으세요."},
    "pentacles_10": {"upright": "유산과 안정 창조 능력이 있습니다. 부동산, 유산, 가족사업에 적합합니다.", "reversed": "재정 문제나 불안정입니다. 기초를 다지세요."},
    "pentacles_11": {"upright": "학습과 성실함이 있습니다. 학습, 훈련, 기술습득에 적합합니다.", "reversed": "게으름이나 학습 거부입니다. 열심히 배우세요."},
    "pentacles_12": {"upright": "책임감과 신중함이 있습니다. 관리, 책임, 신중한 업무에 적합합니다.", "reversed": "과도한 신중함이나 게으름입니다. 균형을 찾으세요."},
    "pentacles_13": {"upright": "실용적이고 안정적입니다. 재정, 관리, 안정적 사업에 적합합니다.", "reversed": "물질주의나 고집입니다. 유연성을 배우세요."},
    "pentacles_14": {"upright": "풍요와 성공 창조 능력이 있습니다. 경영, 투자, 부동산에 적합합니다.", "reversed": "탐욕이나 부정직함입니다. 정직함을 배우세요."},
}

print(f"[OK] aptitude 데이터 생성 완료: {len(aptitude_data)} 장")

# aptitude 추가
print("\n[3/4] 카드에 aptitude 추가 중...")
count = 0
for card_id, aptitude in aptitude_data.items():
    if card_id in data["meanings"]:
        if "upright" in data["meanings"][card_id]:
            data["meanings"][card_id]["upright"]["aptitude"] = aptitude["upright"]
        if "reversed" in data["meanings"][card_id]:
            data["meanings"][card_id]["reversed"]["aptitude"] = aptitude["reversed"]
        count += 1

print(f"[OK] aptitude 추가 완료: {count} 장")

# 파일 저장
print("\n[4/4] 파일 저장 중...")
with open(file_path, 'w', encoding='utf-8') as f:
    json.dump(data, f, ensure_ascii=False, indent=2)

print(f"[OK] 파일 저장 완료: {file_path}")

# 완성 통계
print("\n" + "=" * 60)
print("작업 완료!")
print("=" * 60)
print(f"[OK] 전체 카드: {len(data['meanings'])} 장")
print(f"[OK] aptitude 추가: {count} 장")

print("\n" + "=" * 60)
print("[완료] aptitude (적성) 카테고리 추가 작업 완료!")
print("=" * 60)

