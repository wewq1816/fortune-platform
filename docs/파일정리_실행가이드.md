# 🎯 운세플랫폼 파일 정리 실행 가이드

---

## 📋 준비 사항

### ✅ 완료된 작업
1. 전체 파일 구조 분석 완료
2. 실제 사용 파일 vs 미사용 파일 구분 완료
3. 백업 스크립트 준비 완료
4. 정리 스크립트 준비 완료

### 📁 생성된 파일들
```
C:\xampp\htdocs\mysite\운세플랫폼\
├── docs/
│   ├── 파일구조_분석_명령서.md      (분석 방법론)
│   ├── 파일구조_분석_결과.md        (상세 분석 결과)
│   └── project_plan.md             (프로젝트 계획서)
├── analyze_pages.py                (자동 분석 스크립트)
├── backup_unused_files.bat         (백업 스크립트)
└── clean_unused_files.bat          (정리 스크립트)
```

---

## 🚀 실행 순서

### 1️⃣ Git 상태 확인 (필수!)

현재 변경사항을 먼저 commit하세요:

```bash
cd C:\xampp\htdocs\mysite\운세플랫폼
git status
git add .
git commit -m "파일 구조 분석 완료 및 정리 스크립트 추가"
```

### 2️⃣ 백업 실행

미사용 파일들을 안전하게 백업:

```bash
# 방법 1: 배치 파일 더블클릭
backup_unused_files.bat

# 방법 2: 명령 프롬프트에서 실행
cd C:\xampp\htdocs\mysite\운세플랫폼
backup_unused_files.bat
```

**결과 확인:**
```
frontend\pages\archive_unused_20250107_HHMMSS\
├── backup_20251006_191341\
├── backup_20251006_191424\
├── daily-fortune.html
├── tarot-mock-complete.html
├── tarot-test.html
├── saju-test-improved.html
├── saju-test-new.html
├── saju-test-old-backup.html
├── tojeong.html
├── compatibility.html
├── compatibility_fixed.html
└── README.md
```

### 3️⃣ 백업 확인

백업이 제대로 되었는지 확인:

```bash
cd frontend\pages
dir archive_unused_*
```

- [ ] 폴더가 생성되었는가?
- [ ] 11개 파일이 모두 백업되었는가?
- [ ] README.md가 있는가?

### 4️⃣ 정리 실행

백업 확인 후 미사용 파일 삭제:

```bash
# 방법 1: 배치 파일 더블클릭
clean_unused_files.bat

# 방법 2: 명령 프롬프트에서 실행
cd C:\xampp\htdocs\mysite\운세플랫폼
clean_unused_files.bat
```

**실행 결과:**
- 백업 폴더 2개 삭제
- 미사용 HTML 파일 9개 삭제

### 5️⃣ 정리 결과 확인

남은 파일 확인:

```bash
cd frontend\pages
dir *.html
```

**기대 결과: 9개 HTML 파일만 남음**
```
✅ compatibility-test.html
✅ coupang-gate.html
✅ daily-fortune-test.html
✅ dream.html
✅ horoscope.html
✅ lotto.html
✅ saju-test.html
✅ tarot-mock.html
✅ tojeong-test.html
```

### 6️⃣ Git Commit

정리 완료 후 변경사항 commit:

```bash
cd C:\xampp\htdocs\mysite\운세플랫폼
git status
git add .
git commit -m "미사용 파일 정리: 백업 폴더 2개, HTML 파일 9개 삭제"
git log --oneline -5  # 최근 commit 확인
```

### 7️⃣ 동작 테스트

모든 기능이 정상 작동하는지 확인:

1. **메인 페이지 열기**
   ```
   http://localhost/mysite/운세플랫폼/frontend/index.html
   ```

2. **각 메뉴 클릭 테스트**
   - [ ] 오늘의 운세 → daily-fortune-test.html 로드
   - [ ] 타로 카드 → tarot-mock.html 로드
   - [ ] 사주팔자 → saju-test.html 로드
   - [ ] 토정비결 → tojeong-test.html 로드
   - [ ] 꿈 해몽 → dream.html 로드
   - [ ] 별자리 운세 → horoscope.html 로드
   - [ ] 로또 번호 → lotto.html 로드
   - [ ] 궁합 보기 → compatibility-test.html 로드

3. **이용권 시스템 테스트**
   - [ ] 이용권 배지 표시되는가?
   - [ ] 기능 클릭 시 이용권 소모 확인되는가?
   - [ ] 충전 유도 모달이 표시되는가?
   - [ ] 마스터 모드 (`?master=true`) 작동하는가?

4. **사주 기능 테스트**
   - [ ] 사주 변경 버튼 클릭
   - [ ] 정보 입력 후 저장
   - [ ] 사주 상세 페이지에서 정보 표시

---

## 🔄 문제 발생 시 복구 방법

### 방법 1: 백업에서 복구

```bash
cd C:\xampp\htdocs\mysite\운세플랫폼\frontend\pages
cd archive_unused_*

# 필요한 파일만 복사
copy [파일명] ..\
```

### 방법 2: Git에서 복구

```bash
cd C:\xampp\htdocs\mysite\운세플랫폼

# 마지막 commit 취소 (변경사항 유지)
git reset --soft HEAD~1

# 또는 특정 파일만 복구
git checkout HEAD -- frontend/pages/[파일명]
```

### 방법 3: 전체 되돌리기

```bash
# 모든 변경사항 취소
git reset --hard HEAD~1
```

---

## ✅ 완료 체크리스트

### 준비 단계
- [x] 파일 구조 분석 완료
- [x] 백업 스크립트 준비
- [x] 정리 스크립트 준비
- [ ] Git commit (정리 전)

### 실행 단계
- [ ] 백업 스크립트 실행
- [ ] 백업 확인
- [ ] 정리 스크립트 실행
- [ ] 정리 결과 확인
- [ ] Git commit (정리 후)

### 테스트 단계
- [ ] 메인 페이지 로드
- [ ] 8개 기능 모두 클릭
- [ ] 이용권 시스템 작동
- [ ] 사주 정보 저장/로드
- [ ] 마스터 모드 작동

---

## 📊 정리 효과

### Before (정리 전)
```
frontend/pages/
├── HTML 파일: 18개
│   ├── 실제 사용: 9개
│   └── 미사용: 9개
├── JS 파일: 7개
├── 백업 폴더: 2개
└── 총 용량: ~XX MB
```

### After (정리 후)
```
frontend/pages/
├── HTML 파일: 9개 (모두 사용 중) ✅
├── JS 파일: 7개 (모두 사용 중) ✅
├── 아카이브 폴더: 1개 (백업용)
└── 총 용량: ~YY MB (XX-YY MB 절약)
```

### 개선 사항
- ✅ 파일 구조 50% 간소화
- ✅ 혼란스러운 중복 파일 제거
- ✅ 명확한 파일명 구조
- ✅ 유지보수 용이성 향상

---

## 💡 향후 관리 가이드

### 파일 생성 규칙
1. **테스트 파일은 별도 폴더에**
   ```
   pages/
   ├── test/           # 테스트 파일
   │   └── feature-test.html
   └── feature.html    # 실제 사용
   ```

2. **백업은 Git 사용**
   - 파일 이름에 `-backup` 붙이지 말기
   - Git commit으로 버전 관리

3. **파일명 표준화**
   - 실제 사용: `feature.html`
   - 테스트: `test/feature-test.html`
   - 임시: `temp/feature-temp.html`

### 정기 점검
- **월 1회**: 미사용 파일 확인
- **분기 1회**: 아카이브 폴더 정리
- **연 1회**: 전체 구조 리뷰

---

**작성일**: 2025-01-07  
**작성자**: Claude  
**버전**: 1.0  
**목적**: 운세플랫폼 파일 정리 가이드
