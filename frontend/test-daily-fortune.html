<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì˜¤ëŠ˜ì˜ ìš´ì„¸ í…ŒìŠ¤íŠ¸</title>
  <style>
    body {
      font-family: 'Malgun Gothic', sans-serif;
      max-width: 600px;
      margin: 50px auto;
      padding: 20px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
    }
    .container {
      background: white;
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    }
    h1 {
      text-align: center;
      color: #667eea;
      margin-bottom: 30px;
    }
    .input-group {
      margin-bottom: 15px;
    }
    label {
      display: block;
      margin-bottom: 5px;
      color: #333;
      font-weight: bold;
    }
    input, select {
      width: 100%;
      padding: 10px;
      border: 2px solid #ddd;
      border-radius: 8px;
      font-size: 14px;
      box-sizing: border-box;
    }
    button {
      width: 100%;
      padding: 15px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      margin-top: 20px;
    }
    button:hover {
      opacity: 0.9;
    }
    button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    .result {
      margin-top: 30px;
      padding: 20px;
      background: #f8f9fa;
      border-radius: 10px;
      display: none;
    }
    .result.show {
      display: block;
    }
    .fortune-item {
      margin-bottom: 20px;
      padding: 15px;
      background: white;
      border-radius: 8px;
      border-left: 4px solid #667eea;
    }
    .fortune-item h3 {
      margin: 0 0 10px 0;
      color: #667eea;
    }
    .fortune-item p {
      margin: 0;
      line-height: 1.6;
      color: #555;
    }
    .loading {
      text-align: center;
      padding: 20px;
      display: none;
    }
    .loading.show {
      display: block;
    }
    .spinner {
      border: 4px solid #f3f3f3;
      border-top: 4px solid #667eea;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
      margin: 0 auto;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    .info {
      background: #e3f2fd;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
    }
    .info strong {
      color: #1976d2;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ”® ì˜¤ëŠ˜ì˜ ìš´ì„¸</h1>
    
    <form id="fortuneForm">
      <div class="input-group">
        <label>ìƒë…„</label>
        <input type="number" id="year" min="1940" max="2025" value="1990" required>
      </div>
      
      <div class="input-group">
        <label>ìƒì›”</label>
        <input type="number" id="month" min="1" max="12" value="3" required>
      </div>
      
      <div class="input-group">
        <label>ìƒì¼</label>
        <input type="number" id="day" min="1" max="31" value="15" required>
      </div>
      
      <div class="input-group">
        <label>íƒœì–´ë‚œ ì‹œê°„</label>
        <select id="hour" required>
          <option value="0">ìì‹œ (23:00-01:00)</option>
          <option value="1">ì¶•ì‹œ (01:00-03:00)</option>
          <option value="3">ì¸ì‹œ (03:00-05:00)</option>
          <option value="5">ë¬˜ì‹œ (05:00-07:00)</option>
          <option value="7" selected>ì§„ì‹œ (07:00-09:00)</option>
          <option value="9">ì‚¬ì‹œ (09:00-11:00)</option>
          <option value="11">ì˜¤ì‹œ (11:00-13:00)</option>
          <option value="13">ë¯¸ì‹œ (13:00-15:00)</option>
          <option value="15">ì‹ ì‹œ (15:00-17:00)</option>
          <option value="17">ìœ ì‹œ (17:00-19:00)</option>
          <option value="19">ìˆ ì‹œ (19:00-21:00)</option>
          <option value="21">í•´ì‹œ (21:00-23:00)</option>
          <option value="12">ì‹œê°„ ëª¨ë¦„</option>
        </select>
      </div>
      
      <div class="input-group">
        <label>ìŒë ¥/ì–‘ë ¥</label>
        <select id="isLunar">
          <option value="false">ì–‘ë ¥</option>
          <option value="true">ìŒë ¥</option>
        </select>
      </div>
      
      <button type="submit">ìš´ì„¸ ë³´ê¸°</button>
    </form>
    
    <div class="loading" id="loading">
      <div class="spinner"></div>
      <p>ìš´ì„¸ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
    </div>
    
    <div class="result" id="result"></div>
  </div>

  <script>
    document.getElementById('fortuneForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      
      const loading = document.getElementById('loading');
      const result = document.getElementById('result');
      const submitBtn = e.target.querySelector('button');
      
      // UI ìƒíƒœ ë³€ê²½
      loading.classList.add('show');
      result.classList.remove('show');
      submitBtn.disabled = true;
      
      // í¼ ë°ì´í„° ìˆ˜ì§‘
      const formData = {
        year: parseInt(document.getElementById('year').value),
        month: parseInt(document.getElementById('month').value),
        day: parseInt(document.getElementById('day').value),
        hour: parseInt(document.getElementById('hour').value),
        isLunar: document.getElementById('isLunar').value === 'true'
      };
      
      try {
        // ì‹¤ì œë¡œëŠ” ë°±ì—”ë“œ APIë¥¼ í˜¸ì¶œí•´ì•¼ í•˜ì§€ë§Œ
        // ì§€ê¸ˆì€ Node.js í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ ì‹œë®¬ë ˆì´ì…˜
        
        // ì‹œë®¬ë ˆì´ì…˜: 5ì´ˆ ëŒ€ê¸°
        await new Promise(resolve => setTimeout(resolve, 2000));
        
        // ì˜ˆì‹œ ê²°ê³¼ (ì‹¤ì œë¡œëŠ” API ì‘ë‹µ)
        const fortuneData = {
          saju: {
            string: "ê²½ì˜¤ ê¸°ë¬˜ ê¸°ë¬˜ ê°‘ì",
            hanja: "åºšåˆ å·±å¯ å·±å¯ ç”²å­",
            ilgan: "ê¸°",
            ilganElement: "í† "
          },
          today: {
            ganzi: "ê°‘ì˜¤",
            element: "ëª©"
          },
          relationship: "í”¼ê·¹",
          score: 50,
          level: "í‰",
          fortune: {
            ì´ìš´: "ì˜¤ëŠ˜ì˜ ì „ë°˜ì ì¸ ìš´ì„¸ëŠ” í‰í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ê¸ì •ì ì¸ ë§ˆìŒê°€ì§ì„ ê°–ê³  ê³„ì‹ ë‹¤ë©´ ì–´ë ¤ì›€ì„ ì˜ ê·¹ë³µí•˜ì‹¤ ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.",
            ì• ì •ìš´: "ê°€ì¡±ë¶„ë“¤ê³¼ì˜ ê´€ê³„ê°€ ë‹¤ì†Œ ë¶ˆí¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì„œë¡œë¥¼ ì´í•´í•˜ë ¤ ë…¸ë ¥í•˜ê³  í™”ëª©í•œ ë¶„ìœ„ê¸°ë¥¼ ë§Œë“¤ì–´ë‚˜ê°€ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.",
            ê¸ˆì „ìš´: "ê¸ˆì „ì ì¸ ë©´ì—ì„œ ì–´ë ¤ì›€ì´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì§€ì¶œì„ ì¤„ì´ê³  ì €ì¶•ì— í˜ì“°ì‹œê¸¸ ê¶Œí•´ë“œë¦½ë‹ˆë‹¤.",
            ì§ì¥ìš´: "ì§ì¥ ìƒí™œì—ì„œ ì›í™œí•œ ëŒ€ì¸ê´€ê³„ë¥¼ ìœ ì§€í•˜ê¸° ì–´ë ¤ìš´ ì‹œê¸°ì…ë‹ˆë‹¤. ìƒëŒ€ë°©ì˜ ì…ì¥ì—ì„œ ìƒê°í•˜ê³  ì„œë¡œ ë°°ë ¤í•˜ëŠ” ìì„¸ê°€ í•„ìš”í•©ë‹ˆë‹¤.",
            í•™ì—…ìš´: "ìê¸°ê³„ë°œ ë° ì·¨ë¯¸ í™œë™ì— ëŒ€í•œ ì˜ì§€ê°€ ì•½í•´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ í¬ê¸°í•˜ì§€ ë§ˆì‹œê³  ê¾¸ì¤€íˆ ë…¸ë ¥í•˜ëŠ” íƒœë„ê°€ ì¤‘ìš”í•©ë‹ˆë‹¤.",
            ê±´ê°•ìš´: "ê±´ê°•ê´€ë¦¬ì— í˜ì¨ì•¼ í•  ì‹œê¸°ì…ë‹ˆë‹¤. ê·œì¹™ì ì¸ ìƒí™œ íŒ¨í„´ì„ ê°–ê³ , ìš´ë™ê³¼ íœ´ì‹ì„ ê· í˜• ìˆê²Œ ì·¨í•˜ì„¸ìš”."
          }
        };
        
        // ê²°ê³¼ í‘œì‹œ
        displayFortune(fortuneData);
        
      } catch (error) {
        result.innerHTML = `
          <div style="color: red; text-align: center;">
            <h3>ì˜¤ë¥˜ ë°œìƒ</h3>
            <p>${error.message}</p>
          </div>
        `;
        result.classList.add('show');
      } finally {
        loading.classList.remove('show');
        submitBtn.disabled = false;
      }
    });
    
    function displayFortune(data) {
      const result = document.getElementById('result');
      
      result.innerHTML = `
        <div class="info">
          <strong>ì‚¬ì£¼ 8ê¸€ì:</strong> ${data.saju.string} (${data.saju.hanja})<br>
          <strong>ì¼ê°„:</strong> ${data.saju.ilgan}(${data.saju.ilganElement})<br>
          <strong>ì˜¤ëŠ˜ ì¼ì§„:</strong> ${data.today.ganzi} (${data.today.element})<br>
          <strong>ì˜¤í–‰ ê´€ê³„:</strong> ${data.relationship}<br>
          <strong>ì ìˆ˜:</strong> ${data.score}ì  / <strong>ë“±ê¸‰:</strong> ${data.level}
        </div>
        
        <div class="fortune-item">
          <h3>ğŸ“Œ ì´ìš´</h3>
          <p>${data.fortune.ì´ìš´}</p>
        </div>
        
        <div class="fortune-item">
          <h3>ğŸ’• ì• ì •ìš´</h3>
          <p>${data.fortune.ì• ì •ìš´}</p>
        </div>
        
        <div class="fortune-item">
          <h3>ğŸ’° ê¸ˆì „ìš´</h3>
          <p>${data.fortune.ê¸ˆì „ìš´}</p>
        </div>
        
        <div class="fortune-item">
          <h3>ğŸ’¼ ì§ì¥ìš´</h3>
          <p>${data.fortune.ì§ì¥ìš´}</p>
        </div>
        
        <div class="fortune-item">
          <h3>ğŸ“š í•™ì—…ìš´</h3>
          <p>${data.fortune.í•™ì—…ìš´}</p>
        </div>
        
        <div class="fortune-item">
          <h3>ğŸ¥ ê±´ê°•ìš´</h3>
          <p>${data.fortune.ê±´ê°•ìš´}</p>
        </div>
      `;
      
      result.classList.add('show');
    }
  </script>
</body>
</html>
