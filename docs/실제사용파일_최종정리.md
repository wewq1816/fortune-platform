# 🎯 운세플랫폼 실제 사용 파일 최종 정리

📅 **작성일**: 2025-01-07  
✅ **상태**: 불필요한 파일 삭제 완료 후 최종 확인  
🎯 **목적**: 실제 운영에 사용되는 핵심 파일만 정리

---

## 📱 1. 프론트엔드 파일 (Frontend)

### 🏠 메인 진입점
```
✅ C:\xampp\htdocs\mysite\운세플랫폼\frontend\index.html
```
**역할**: 
- 메인 홈페이지
- 8개 운세 기능 메뉴
- 이용권 시스템 통합
- 사주 정보 저장/불러오기

---

### 🎮 기능별 페이지 (13개)

#### 1️⃣ 오늘의 운세
```
✅ frontend/pages/daily-fortune-test.html
```
**기능**: 생년월일 기반 오늘의 운세  
**API**: `POST /api/daily-fortune`  
**엔진**: `engines/core/daily-engine.js`

#### 2️⃣ 타로 카드
```
✅ frontend/pages/tarot-mock.html
```
**기능**: 78장 타로 카드, 5단계 선택  
**API**: `POST /api/tarot`  
**엔진**: `engines/core/tarot-engine.js`

#### 3️⃣ 사주팔자
```
✅ frontend/pages/saju-test.html
✅ frontend/pages/saju-main.js (메인 로직)
✅ frontend/pages/saju-ui-controller.js (UI 제어)
✅ frontend/pages/saju-api-functions.js (API 호출)
✅ frontend/pages/ten-stars-calculator.js (십성 계산)
```
**기능**: 만세력 기반 사주팔자 분석  
**API**: `POST /api/saju`  
**엔진**: `engines/core/saju-engine.js`

#### 4️⃣ 토정비결
```
✅ frontend/pages/tojeong-test.html
```
**기능**: 음력 변환 + 144괘 토정비결  
**API**: `POST /api/tojeong`  
**엔진**: `engines/core/tojeong-engine.js`

#### 5️⃣ 꿈 해몽
```
✅ frontend/pages/dream.html
```
**기능**: 키워드 검색 + AI 해석  
**API**: `POST /api/dream`  
**엔진**: `engines/core/dream-engine.js`

#### 6️⃣ 별자리 운세
```
✅ frontend/pages/horoscope.html
```
**기능**: 생년월일로 별자리 운세  
**API**: `POST /api/horoscope`  
**엔진**: `engines/core/horoscope-engine.js`

#### 7️⃣ 로또 번호
```
✅ frontend/pages/lotto.html
```
**기능**: 자체 랜덤 번호 생성 (API 불필요)  
**API**: (선택) `POST /api/lotto`  
**엔진**: (선택) `engines/core/lotto-engine.js`

#### 8️⃣ 궁합 보기
```
✅ frontend/pages/compatibility-test.html
```
**기능**: 두 사람의 사주 기반 궁합  
**API**: `POST /api/compatibility`  
**엔진**: `engines/core/compatibility-engine.js`

#### 🎁 쿠팡 게이트
```
✅ frontend/pages/coupang-gate.html
```
**기능**: 이용권 충전 안내 (특수 페이지)  
**API**: 불필요

---

### 🔧 공통 시스템 파일

#### 이용권 시스템 (필수)
```
✅ frontend/utils/ticket-system.js
✅ frontend/utils/ticket-wrapper.js
✅ frontend/components/common/TicketModal.jsx
```
**역할**: 
- 이용권 차감/충전
- LocalStorage 관리
- 모달 UI

#### 기타 유틸리티
```
✅ frontend/components/disclaimer.html (면책 조항)
```

---

## ⚙️ 2. 백엔드 엔진 (Engines)

### 🎯 핵심 엔진 파일 (8개)

```
✅ engines/core/daily-engine.js (오늘의 운세)
✅ engines/core/tarot-engine.js (타로 카드)
✅ engines/core/saju-engine.js (사주팔자 - 메인)
✅ engines/core/saju-engine-extended.js (사주 - 대운/신살)
✅ engines/core/tojeong-engine.js (토정비결)
✅ engines/core/dream-engine.js (꿈 해몽)
✅ engines/core/horoscope-engine.js (별자리 운세)
✅ engines/core/compatibility-engine.js (궁합)
```

**선택 파일**:
```
⚠️ engines/core/lotto-engine.js (로또 - 통계 기반 추천)
⚠️ engines/core/dream-engine-jaro-winkler.js (꿈 해몽 - 알고리즘)
⚠️ engines/core/tojeong-engine-backup.js (백업)
```

---

### 🛠️ 유틸리티 파일 (11개)

```
✅ engines/utils/saju-calculator.js ⭐⭐⭐ (가장 중요! 만세력 계산)
✅ engines/utils/ganzi-calculator.js (간지 계산)
✅ engines/utils/daeun-calculator.js (대운 계산)
✅ engines/utils/ten-stars-calculator.js (십성 계산)
✅ engines/utils/element-analyzer.js (오행 분석)
✅ engines/utils/element-calculator.js (오행 계산)
✅ engines/utils/strength-calculator.js (신강/신약)
✅ engines/utils/yongsin-finder.js (용신 찾기)
✅ engines/utils/sinsal-calculator.js (신살 계산)
✅ engines/utils/zodiac-calculator.js (띠/별자리 계산)
✅ engines/utils/taekil-calculator.js (택일)
```

---

### 📊 데이터 파일 (16개)

#### 사주/오행 관련
```
✅ engines/data/ganzi-60.json ⭐ (60갑자 데이터)
✅ engines/data/five-elements.json (오행 데이터)
✅ engines/data/ten-stars-data.json (십성 데이터)
✅ engines/data/solar-terms.json (24절기)
✅ engines/data/time-slots.json (시간대)
```

#### 타로 관련
```
✅ engines/data/tarot-cards-complete.json ⭐ (타로 78장 - 메인)
✅ engines/data/tarot-cards-meanings.json (타로 의미)
⚠️ engines/data/tarot-cards-basic.json (기본 버전)
```

#### 토정비결 관련
```
✅ engines/data/tojeong-gua-144.json ⭐ (토정비결 144괘)
```

#### 꿈 해몽 관련
```
✅ engines/data/dream-db.json ⭐ (꿈 해몽 데이터베이스)
⚠️ engines/data/dream-db-backup-20250105.json (백업)
⚠️ engines/data/dream-db-temp-improvements.json (임시)
```

#### 별자리 관련
```
✅ engines/data/horoscope.json (별자리 기본 데이터)
✅ engines/data/horoscope-traits.json (별자리 특성)
```

#### 궁합 관련
```
✅ engines/data/zodiac-animals.json (띠 궁합 데이터)
```

---

### 🤖 Claude AI 프롬프트 (5개)

```
✅ engines/prompts/daily-fortune-prompt.js
✅ engines/prompts/compatibility-prompt.js
✅ engines/prompts/dream-prompt.js
✅ engines/prompts/horoscope-prompt.js
✅ engines/prompts/tojeong-prompt.js
```

**역할**: Claude API에 보낼 프롬프트 템플릿

---

## 🖥️ 3. 백엔드 서버 (Backend)

### 메인 서버
```
✅ C:\xampp\htdocs\mysite\운세플랫폼\server.js
```
**역할**: 
- Express 서버 (포트 3000)
- API 라우팅
- 엔진 호출
- Claude API 연동

### 설정 파일
```
✅ package.json (Node.js 패키지)
✅ .env (환경 변수 - API 키)
✅ .gitignore (Git 제외 파일)
```

---

## 📁 4. 기타 필수 파일

### 문서
```
✅ README.md (프로젝트 설명)
✅ README_SAJU_SYSTEM.md (사주 시스템 설명)
✅ docs/ (모든 문서 폴더)
```

### 이미지/리소스
```
✅ frontend/images/ (아이콘, 배경 등)
✅ public/images/tarot/ (타로 카드 이미지 78장)
```

---

## 🔌 5. API 연결 구조

```
[프론트엔드 HTML]
    ↓ fetch('http://localhost:3000/api/...')
[백엔드 서버 (server.js)]
    ↓ require('../engines/core/...')
[엔진 파일 (.js)]
    ↓ 계산 + 데이터 로드
    ↓ Claude API 호출
[AI 해석]
    ↓ JSON 응답
[프론트엔드 표시]
```

### API 엔드포인트 목록
```
POST /api/daily-fortune    → daily-engine.js
POST /api/tarot             → tarot-engine.js
POST /api/saju              → saju-engine.js
POST /api/tojeong           → tojeong-engine.js
POST /api/dream             → dream-engine.js
POST /api/horoscope         → horoscope-engine.js
POST /api/compatibility     → compatibility-engine.js
POST /api/lotto             → lotto-engine.js (선택)
```

---

## 📊 6. 파일 통계

### 프론트엔드
- HTML: 9개 (메인 기능)
- JS 모듈: 4개 (사주 전용)
- 공통 시스템: 3개 (이용권)
- **합계**: 16개

### 백엔드 엔진
- 엔진: 8개 (+ 백업 3개)
- 유틸: 11개
- 데이터: 16개 (+ 백업 3개)
- 프롬프트: 5개
- **합계**: 40개 (+ 백업 6개)

### 기타
- 서버: 1개 (server.js)
- 설정: 3개 (.env, package.json, .gitignore)
- **합계**: 4개

### 📌 **총 파일 수: 60개 (실제 사용) + 6개 (백업)**

---

## ⭐ 7. 핵심 파일 TOP 10

1. **engines/utils/saju-calculator.js** - 만세력 계산 (가장 중요!)
2. **server.js** - 백엔드 API 서버
3. **frontend/index.html** - 메인 진입점
4. **frontend/utils/ticket-system.js** - 이용권 시스템
5. **engines/data/ganzi-60.json** - 60갑자 데이터
6. **engines/core/saju-engine.js** - 사주 엔진
7. **engines/data/tarot-cards-complete.json** - 타로 78장
8. **engines/data/tojeong-gua-144.json** - 토정비결 144괘
9. **engines/data/dream-db.json** - 꿈 해몽 DB
10. **frontend/pages/saju-test.html** - 사주 페이지

---

## 🎯 8. 기능별 의존성 맵

### 오늘의 운세
```
daily-fortune-test.html
    → daily-engine.js
        → saju-calculator.js
        → element-analyzer.js
        → five-elements.json
        → daily-fortune-prompt.js
```

### 타로 카드
```
tarot-mock.html
    → tarot-engine.js
        → tarot-cards-complete.json
        → tarot-cards-meanings.json
```

### 사주팔자
```
saju-test.html
    → saju-main.js
    → saju-ui-controller.js
    → saju-api-functions.js
    → ten-stars-calculator.js
        ↓
    saju-engine.js
    saju-engine-extended.js
        → saju-calculator.js ⭐⭐⭐
        → ganzi-calculator.js
        → daeun-calculator.js
        → ten-stars-calculator.js
        → element-analyzer.js
        → strength-calculator.js
        → yongsin-finder.js
        → sinsal-calculator.js
        → ganzi-60.json
        → five-elements.json
        → ten-stars-data.json
```

### 토정비결
```
tojeong-test.html
    → tojeong-engine.js
        → lunar-javascript (npm)
        → tojeong-gua-144.json
        → tojeong-prompt.js
```

### 꿈 해몽
```
dream.html
    → dream-engine.js
        → dream-db.json
        → dream-prompt.js
        → Jaro-Winkler 알고리즘
```

### 별자리 운세
```
horoscope.html
    → horoscope-engine.js
        → zodiac-calculator.js
        → horoscope.json
        → horoscope-traits.json
        → horoscope-prompt.js
```

### 궁합 보기
```
compatibility-test.html
    → compatibility-engine.js
        → saju-calculator.js
        → zodiac-calculator.js
        → zodiac-animals.json
        → compatibility-prompt.js
```

---

## ✅ 9. 삭제 완료 확인

다음 파일들이 성공적으로 삭제되었습니다:

### Mock JS 파일 (3개) ✅
- ~~saju-basic-calculator.js~~
- ~~saju-extended-calculator.js~~
- ~~saju-interpretations.js~~

### 중복 HTML (9개) ✅
- ~~daily-fortune.html~~
- ~~tarot-mock-complete.html~~
- ~~tarot-test.html~~
- ~~saju-test-improved.html~~
- ~~saju-test-new.html~~
- ~~saju-test-old-backup.html~~
- ~~tojeong.html~~
- ~~compatibility.html~~
- ~~compatibility_fixed.html~~

### 백업 폴더 (2개) ✅
- ~~backup_20251006_191341/~~
- ~~backup_20251006_191424/~~

**총 14개 파일/폴더 삭제 완료!**

---

## 🚀 10. 서버 실행 방법

### 1. 백엔드 서버 시작
```bash
cd C:\xampp\htdocs\mysite\운세플랫폼
node server.js
```
**포트**: http://localhost:3000

### 2. 프론트엔드 접속
```
http://localhost:3000/frontend/index.html
```

### 3. 환경 변수 설정 (.env)
```env
CLAUDE_API_KEY=your_api_key_here
PORT=3000
```

---

## 📝 11. 주의사항

### ⚠️ 절대 삭제하면 안되는 파일
1. **engines/utils/saju-calculator.js** - 만세력 핵심
2. **engines/data/ganzi-60.json** - 60갑자 데이터
3. **server.js** - 백엔드 서버
4. **frontend/utils/ticket-system.js** - 이용권 시스템

### ⚠️ 백업 파일 (필요시 복원)
- `engines/core/tojeong-engine-backup.js`
- `engines/data/dream-db-backup-20250105.json`
- `engines/data/tarot-cards-basic.json`

### ⚠️ 개발 중 테스트 파일
- `test-*.js` (루트에 여러 개 존재)
- 필요시 삭제 가능

---

**작성일**: 2025-01-07  
**상태**: ✅ 파일 정리 완료  
**다음 작업**: API 연결 테스트 → 배포

