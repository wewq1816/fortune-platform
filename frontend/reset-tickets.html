<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì´ìš©ê¶Œ ì´ˆê¸°í™”</title>
  <style>
    body {
      font-family: 'Malgun Gothic', sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }
    .container {
      background: white;
      padding: 40px;
      border-radius: 20px;
      text-align: center;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    }
    h1 {
      color: #333;
      margin-bottom: 20px;
    }
    .btn {
      padding: 15px 30px;
      margin: 10px;
      font-size: 16px;
      font-weight: bold;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s;
    }
    .btn-primary {
      background: #ff6b6b;
      color: white;
    }
    .btn-primary:hover {
      background: #ff5252;
      transform: translateY(-2px);
    }
    .btn-secondary {
      background: #667eea;
      color: white;
    }
    .btn-secondary:hover {
      background: #5568d3;
      transform: translateY(-2px);
    }
    .result {
      margin-top: 20px;
      padding: 15px;
      border-radius: 10px;
      background: #f0f0f0;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ« ì´ìš©ê¶Œ ê´€ë¦¬</h1>
    <p>í˜„ì¬ ì´ìš©ê¶Œ ìƒíƒœë¥¼ ì´ˆê¸°í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
    
    <div style="margin: 30px 0;">
      <button class="btn btn-primary" onclick="resetTickets()">
        ğŸ”„ ì´ìš©ê¶Œ ì™„ì „ ì´ˆê¸°í™” (0ê°œ)
      </button>
      <br>
      <button class="btn btn-secondary" onclick="setTickets(2)">
        â• ì´ìš©ê¶Œ 2ê°œë¡œ ì„¤ì •
      </button>
      <br>
      <button class="btn btn-secondary" onclick="setTickets(1)">
        â• ì´ìš©ê¶Œ 1ê°œë¡œ ì„¤ì •
      </button>
    </div>
    
    <div class="result" id="result">
      ì¤€ë¹„ ì™„ë£Œ
    </div>
    
    <div style="margin-top: 20px;">
      <a href="index.html" style="color: #667eea; text-decoration: none; font-weight: bold;">
        â† ë©”ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°
      </a>
    </div>
  </div>

  <script>
    function resetTickets() {
      localStorage.removeItem('fortune_tickets');
      localStorage.removeItem('master_mode');
      document.getElementById('result').innerHTML = 'âœ… ì´ìš©ê¶Œì´ ì™„ì „íˆ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤!<br>ì´ìš©ê¶Œ: 0ê°œ, ì¶©ì „ ê°€ëŠ¥';
      setTimeout(() => {
        location.reload();
      }, 1500);
    }
    
    function setTickets(count) {
      localStorage.setItem('fortune_tickets', JSON.stringify({
        date: getTodayString(),
        count: count,
        charged: true,
        last_use: null
      }));
      document.getElementById('result').innerHTML = `âœ… ì´ìš©ê¶Œì´ ${count}ê°œë¡œ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤!`;
      setTimeout(() => {
        location.reload();
      }, 1500);
    }
    
    function getTodayString() {
      const today = new Date();
      const year = today.getFullYear();
      const month = String(today.getMonth() + 1).padStart(2, '0');
      const day = String(today.getDate()).padStart(2, '0');
      return `${year}-${month}-${day}`;
    }
    
    // í˜ì´ì§€ ë¡œë“œ ì‹œ í˜„ì¬ ìƒíƒœ í‘œì‹œ
    window.onload = function() {
      const tickets = localStorage.getItem('fortune_tickets');
      const masterMode = localStorage.getItem('master_mode');
      
      if (masterMode === 'true') {
        document.getElementById('result').innerHTML = 'ğŸ”“ Master Mode í™œì„±í™” ì¤‘';
      } else if (tickets) {
        const data = JSON.parse(tickets);
        document.getElementById('result').innerHTML = `í˜„ì¬ ì´ìš©ê¶Œ: ${data.count}ê°œ<br>ì¶©ì „ ì—¬ë¶€: ${data.charged ? 'ì™„ë£Œ' : 'ê°€ëŠ¥'}`;
      } else {
        document.getElementById('result').innerHTML = 'ì´ìš©ê¶Œ: 0ê°œ (ì´ˆê¸° ìƒíƒœ)';
      }
    }
  </script>
</body>
</html>
